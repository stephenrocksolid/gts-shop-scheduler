{% extends "base.html" %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-8 bg-white">
    <div class="text-center mb-8">
        <h1 class="text-2xl font-bold text-gray-900">WORK ORDER</h1>
        <p class="text-lg text-gray-600">Job #{{ job.id }}</p>
    </div>
    
    <div class="grid grid-cols-2 gap-8 mb-8">
        <div>
            <h2 class="text-lg font-semibold mb-4">Customer Information</h2>
            <p><strong>Business:</strong> {{ job.business_name|default:job.customer.business_name }}</p>
            <p><strong>Contact:</strong> {{ job.contact_name|default:job.customer.contact_name }}</p>
            <p><strong>Phone:</strong> {{ job.phone|default:job.customer.phone }}</p>
        </div>
        <div>
            <h2 class="text-lg font-semibold mb-4">Job Details</h2>
            <p><strong>Start:</strong> {{ job.start_dt|date:"M d, Y g:i A" }}</p>
            <p><strong>End:</strong> {{ job.end_dt|date:"M d, Y g:i A" }}</p>
            <p><strong>Status:</strong> {{ job.get_status_display }}</p>
        </div>
    </div>
    
    <div class="mb-8">
        <h2 class="text-lg font-semibold mb-4">Trailer Information</h2>
        <p><strong>Trailer:</strong> {{ job.trailer.number }} - {{ job.trailer.model }}</p>
        {% if job.trailer_color %}<p><strong>Color:</strong> {{ job.trailer_color }}</p>{% endif %}
        {% if job.trailer_serial %}<p><strong>Serial #:</strong> {{ job.trailer_serial }}</p>{% endif %}
        {% if job.trailer_details %}<p><strong>Details:</strong> {{ job.trailer_details }}</p>{% endif %}
    </div>
    
    {% if job.repair_notes %}
    <div class="mb-8">
        <h2 class="text-lg font-semibold mb-4">Repair Notes</h2>
        <div class="bg-gray-50 p-4 rounded-md">
            {{ job.repair_notes|linebreaks }}
        </div>
    </div>
    {% endif %}
    
    {% if job.quote %}
    <div class="text-right">
        <p class="text-xl font-semibold">Quote: ${{ job.quote }}</p>
    </div>
    {% endif %}
</div>

<script>
window.print();
</script>
{% endblock %}
