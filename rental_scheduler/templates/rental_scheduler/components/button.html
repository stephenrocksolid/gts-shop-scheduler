{% load static %}

<button type="{{ type|default:'button' }}" 
        class="button button-{{ variant|default:'primary' }} button-{{ size|default:'md' }} {{ extra_classes|default:'' }}"
        {% if disabled %}disabled{% endif %}
        {% if hx_get %}hx-get="{{ hx_get }}"{% endif %}
        {% if hx_post %}hx-post="{{ hx_post }}"{% endif %}
        {% if hx_target %}hx-target="{{ hx_target }}"{% endif %}
        {% if hx_swap %}hx-swap="{{ hx_swap }}"{% endif %}
        {% if hx_trigger %}hx-trigger="{{ hx_trigger }}"{% endif %}
        {% if onclick %}onclick="{{ onclick }}"{% endif %}>
    
    {% if icon_left %}
    <svg class="button-icon-left" fill="currentColor" viewBox="0 0 20 20">
        {{ icon_left|safe }}
    </svg>
    {% endif %}
    
    <span class="button-text">{{ text }}</span>
    
    {% if icon_right %}
    <svg class="button-icon-right" fill="currentColor" viewBox="0 0 20 20">
        {{ icon_right|safe }}
    </svg>
    {% endif %}
    
    {% if loading %}
    <svg class="button-loading" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
    {% endif %}
</button>

<style>
.button {
    @apply inline-flex items-center justify-center font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
}

/* Button variants */
.button-primary {
    @apply bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
}

.button-secondary {
    @apply bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500;
}

.button-success {
    @apply bg-green-600 text-white hover:bg-green-700 focus:ring-green-500;
}

.button-warning {
    @apply bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500;
}

.button-danger {
    @apply bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
}

.button-outline {
    @apply border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-red-500;
}

.button-ghost {
    @apply bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500;
}

/* Button sizes */
.button-sm {
    @apply px-3 py-1.5 text-sm;
}

.button-md {
    @apply px-4 py-2 text-sm;
}

.button-lg {
    @apply px-6 py-3 text-base;
}

.button-xl {
    @apply px-8 py-4 text-lg;
}

/* Button icons */
.button-icon-left {
    @apply w-4 h-4 mr-2;
}

.button-icon-right {
    @apply w-4 h-4 ml-2;
}

.button-loading {
    @apply w-4 h-4 ml-2 animate-spin;
}

.button-text {
    @apply flex items-center;
}
</style>