---
description: Reminds agents to test their changes, check for regressions, and update docs — when it makes sense
alwaysApply: true
---

## After code changes — use good judgment

Not every one-liner needs a test. But when a change is non-trivial, follow these steps:

1. **Write or update tests** for the change (see `testing.mdc` for what kind).
2. **Run the relevant test suite** (`pytest` for unit/integration) to confirm:
   - New tests pass.
   - No existing tests were broken by the change.
3. If tests fail, **fix the code or tests before moving on** — never leave the suite red.

### When tests are warranted

- Bug fixes (regression test)
- New features or changed behavior
- Non-trivial refactors, especially around core flows (calendar, panel, workspace, recurrence)

### When you can skip tests

- Cosmetic/copy changes (HTML text, CSS tweaks)
- Renaming a local variable or fixing a typo
- Adding/removing logging
- Changes where the existing suite already covers the affected path

## Documentation

- If the change affects behavior, APIs, schemas, or contracts, **update the relevant docs in the same change** (see `00-docs-and-contracts.mdc` for canonical locations).
- Don't create docs for trivial changes — only when something user- or developer-facing actually shifted.

## Mental checklist before finishing

- [ ] Tests written/updated if the change warrants it?
- [ ] Test suite passes (no regressions)?
- [ ] Docs updated if behavior/contracts changed?
