/* GTS Rental Scheduler - Calendar Styles */

/* ===== CALENDAR CONTAINER ===== */
.calendar-container {
    @apply bg-white rounded-lg shadow-lg p-4;
}

.calendar-main-container {
    @apply relative;
}

.calendar-wrapper {
    @apply min-h-[600px];
}

/* ===== CALENDAR HEADER ===== */
.calendar-header {
    @apply flex justify-between items-center mb-4;
}

/* ===== CALENDAR FILTERS ===== */
.calendar-filters {
    @apply flex gap-4 mb-4;
}

.calendar-filter {
    @apply flex items-center gap-2;
}

.calendar-filter select {
    @apply rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500;
}

/* ===== CALENDAR LEGEND ===== */
.calendar-legend-container {
    @apply mb-6;
}

/* ===== CALENDAR GRID ===== */
.calendar-grid-container {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden;
}

.calendar-grid-header {
    @apply flex justify-between items-center p-4 border-b border-gray-200 bg-gray-50;
}

.calendar-nav {
    @apply flex items-center gap-4;
}

.nav-btn {
    @apply p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200;
}

.calendar-title {
    @apply text-lg font-semibold text-gray-900;
}

.calendar-actions {
    @apply flex items-center gap-3;
}

.action-btn {
    @apply px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200;
}

.today-btn {
    @apply text-red-600 border-red-300 hover:bg-red-50;
}

.view-selector {
    @apply flex border border-gray-300 rounded-md overflow-hidden;
}

.view-btn {
    @apply px-3 py-1.5 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200;
}

.view-btn.active {
    @apply bg-red-600 text-white hover:bg-red-700;
}

.calendar-grid {
    @apply divide-y divide-gray-200;
}

.calendar-day-headers {
    @apply grid grid-cols-7 bg-gray-50;
}

.day-header {
    @apply p-3 text-sm font-medium text-gray-700 text-center;
}

.calendar-days {
    @apply divide-y divide-gray-200;
}

.calendar-week {
    @apply grid grid-cols-7 divide-x divide-gray-200;
}

/* ===== DAY CELLS ===== */
.day-cell {
    @apply relative min-h-[120px] p-2 border border-gray-200 bg-white;
    @apply hover:bg-gray-50 transition-colors duration-200;
    @apply cursor-pointer;
}

.day-cell.today {
    @apply bg-red-50 border-red-300;
}

.day-cell.today:hover {
    @apply bg-red-100;
}

.day-cell.other-month {
    @apply bg-gray-50 border-gray-100;
    @apply opacity-60;
}

.day-cell.weekend {
    @apply bg-gray-25;
}

.day-cell.weekend:hover {
    @apply bg-gray-100;
}

.day-header {
    @apply flex items-center justify-between mb-2;
    @apply relative;
}

.day-number {
    @apply text-sm font-medium text-gray-900;
}

.day-cell.today .day-number {
    @apply text-red-600 font-semibold;
}

.day-cell.other-month .day-number {
    @apply text-gray-400;
}

.today-indicator {
    @apply absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full;
}

.event-count-badge {
    @apply bg-red-100 text-red-800 text-xs font-medium px-1.5 py-0.5 rounded-full;
}

.day-events-container {
    @apply space-y-1 min-h-[60px];
}

.more-events-indicator {
    @apply text-xs text-gray-500 text-center py-1;
    @apply bg-gray-100 rounded;
    @apply cursor-pointer hover:bg-gray-200 transition-colors duration-200;
}

.quick-add-btn {
    @apply absolute bottom-1 right-1 p-1.5 text-gray-400 hover:text-red-600;
    @apply hover:bg-red-50 rounded transition-colors duration-200;
    @apply opacity-0 group-hover:opacity-100;
}

.day-cell:hover .quick-add-btn {
    @apply opacity-100;
}

.day-summary {
    @apply hidden;
}

.summary-stats {
    @apply flex flex-wrap gap-1 mt-1;
}

.stat {
    @apply text-xs px-1.5 py-0.5 rounded-full;
}

.stat.completed {
    @apply bg-green-100 text-green-800;
}

.stat.pending {
    @apply bg-yellow-100 text-yellow-800;
}

/* ===== JOB CHIPS ===== */
.job-chip {
    @apply relative p-2 rounded-md text-xs font-medium cursor-pointer transition-all duration-200 select-none;
    @apply border border-transparent hover:border-gray-300;
    @apply shadow-sm hover:shadow-md;
    @apply transform hover:scale-105;
    @apply overflow-hidden;
    min-height: 2.5rem;
}

.job-chip:hover {
    @apply z-10;
}

.job-time {
    @apply text-xs font-bold text-gray-700 mb-1;
    @apply opacity-90;
}

.job-content {
    @apply space-y-0.5;
}

.job-title {
    @apply font-semibold text-gray-900 leading-tight;
    line-height: 1.1;
}

.job-customer {
    @apply text-gray-600 leading-tight;
    line-height: 1.1;
}

.job-status-indicator {
    @apply absolute top-1 right-1;
}

.job-status-indicator .status-pill {
    @apply text-xs px-1 py-0.5;
}

.calendar-indicator {
    @apply absolute left-0 top-0 bottom-0 w-1;
}

/* Status-based styling */
.job-scheduled {
    @apply bg-blue-50 border-blue-200;
}

.job-scheduled:hover {
    @apply bg-blue-100 border-blue-300;
}

.job-inprogress {
    @apply bg-yellow-50 border-yellow-200;
}

.job-inprogress:hover {
    @apply bg-yellow-100 border-yellow-300;
}

.job-completed {
    @apply bg-green-50 border-green-200;
}

.job-completed:hover {
    @apply bg-green-100 border-green-300;
}

.job-canceled {
    @apply bg-red-50 border-red-200;
}

.job-canceled:hover {
    @apply bg-red-100 border-red-300;
}

/* Completion states */
.job-completed .job-title,
.job-completed .job-customer {
    @apply line-through opacity-70;
}

.job-canceled .job-title,
.job-canceled .job-customer {
    @apply line-through opacity-50;
}

.completion-overlay {
    @apply absolute inset-0 bg-green-100 bg-opacity-50 flex items-center justify-center;
    @apply pointer-events-none;
}

.completion-icon {
    @apply w-4 h-4 text-green-600;
}

/* ===== CALENDAR EVENT STYLES ===== */
.fc-event {
    @apply cursor-pointer transition-all duration-200 select-none;
}

.fc-event:hover {
    @apply opacity-90 transform scale-102 shadow-sm;
}

.fc-event:active {
    @apply transform scale-98;
}

/* Calendar Event Colors */
.event-picked-up {
    @apply bg-green-600;
}

.event-returned {
    @apply bg-blue-500;
}

.event-pending {
    @apply bg-amber-700;
}

.event-overdue {
    @apply bg-fuchsia-600;
}

.event-service {
    @apply bg-red-600;
    cursor: default !important;
}

.event-service:hover {
    @apply opacity-100 transform scale-100 shadow-none;
}

.event-service:active {
    @apply transform scale-100;
}

/* Calendar Toolbar */
.fc-toolbar-title {
    @apply text-lg font-semibold;
}

.fc-button {
    @apply bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500;
}

.fc-button-active {
    @apply bg-red-800;
}

/* Calendar Grid */
.fc-daygrid-day {
    @apply min-h-[100px];
}

.fc-daygrid-day-number {
    @apply text-sm;
}

/* Calendar Event Content */
.fc-event-title {
    @apply font-medium truncate;
    display: inline !important;
    vertical-align: baseline;
    font-size: 0.75rem;
    line-height: 1.2;
}

.fc-event-time {
    @apply font-bold;
    display: inline !important;
    margin-right: 4px;
    opacity: 0.9;
    vertical-align: baseline;
    font-size: 0.75rem;
    line-height: 1.2;
}

/* Force event times to be visible in month view */
.fc-daygrid-event .fc-event-time {
    display: inline !important;
    font-weight: bold;
    margin-right: 4px;
    font-size: 0.75rem;
    opacity: 0.9;
    vertical-align: baseline;
    line-height: 1.2;
}

.fc-daygrid-event .fc-event-title {
    @apply truncate;
    display: inline !important;
    font-size: 0.75rem;
    line-height: 1.2;
    vertical-align: baseline;
    font-weight: 500;
}

/* Ensure event content container displays properly */
.fc-daygrid-event .fc-event-main {
    display: block !important;
    padding: 2px;
    line-height: 1.2;
}

.fc-daygrid-event .fc-event-main-frame {
    display: block !important;
    width: 100%;
    line-height: 1.2;
}

/* Custom event styling to ensure visibility */
.custom-event .fc-event-time {
    display: inline !important;
    visibility: visible !important;
    opacity: 1 !important;
    vertical-align: baseline;
}

/* ===== QUICK ACTIONS MODAL ===== */
.quick-actions-content {
    @apply space-y-4;
}

.job-info {
    @apply border-b border-gray-200 pb-4;
}

.status-actions {
    @apply space-y-3;
}

.status-action-btn {
    @apply w-full p-2 rounded-md border border-gray-200 hover:bg-gray-50 transition-colors duration-200;
    @apply text-left;
}

.action-buttons {
    @apply flex gap-2 pt-4 border-t border-gray-200;
}

.action-btn {
    @apply flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200;
}

.edit-btn {
    @apply bg-blue-50 text-blue-700 hover:bg-blue-100;
}

.view-btn {
    @apply bg-gray-50 text-gray-700 hover:bg-gray-100;
}

/* ===== STATUS UPDATE MODAL ===== */
.status-update-form {
    @apply space-y-4;
}

.form-group {
    @apply space-y-2;
}

.form-label {
    @apply block text-sm font-medium text-gray-700;
}

.form-input {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm;
    @apply focus:ring-red-500 focus:border-red-500 sm:text-sm;
}

/* ===== LOADING STATE ===== */
.calendar-loading {
    @apply flex items-center justify-center h-64;
}

.calendar-loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2 border-red-600;
}

/* ===== DRAG AND DROP STATES ===== */
.day-cell.drag-over {
    @apply bg-blue-100 border-blue-400;
    @apply ring-2 ring-blue-500 ring-opacity-50;
}

.day-cell.drag-over .day-number {
    @apply text-blue-600 font-semibold;
}

.job-chip.dragging {
    @apply opacity-50 transform scale-95;
    @apply shadow-lg;
}

.job-chip.drag-over {
    @apply bg-blue-100 border-blue-400;
}

/* ===== ANIMATIONS ===== */
.job-chip.new-job {
    animation: jobAppear 0.3s ease-out;
}

@keyframes jobAppear {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(-10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
    .calendar-grid-header {
        @apply flex-col gap-3;
    }
    
    .calendar-nav {
        @apply w-full justify-between;
    }
    
    .calendar-actions {
        @apply w-full justify-center;
    }
    
    .day-cell {
        @apply min-h-[80px] p-1;
    }
    
    .day-number {
        @apply text-xs;
    }
    
    .day-events-container {
        @apply min-h-[40px] space-y-0.5;
    }
    
    .quick-add-btn {
        @apply p-1 opacity-100;
    }
    
    .day-summary {
        @apply block;
    }
    
    .summary-stats {
        @apply mt-0.5;
    }
    
    .stat {
        @apply text-xs px-1 py-0.5;
    }
    
    .job-chip {
        @apply p-1.5 text-xs;
        min-height: 2rem;
    }
    
    .job-title {
        @apply text-xs;
    }
    
    .job-customer {
        @apply text-xs;
    }
    
    .job-status-indicator {
        @apply top-0.5 right-0.5;
    }
    
    .job-status-indicator .status-pill {
        @apply text-xs px-0.5 py-0;
    }
}

@media (max-width: 640px) {
    .day-cell {
        @apply min-h-[60px];
    }
    
    .day-events-container {
        @apply min-h-[30px];
    }
    
    .event-count-badge {
        @apply hidden;
    }
    
    .more-events-indicator {
        @apply hidden;
    }
    
    .job-chip {
        @apply p-1 text-xs;
        min-height: 1.5rem;
    }
    
    .job-time {
        @apply hidden;
    }
    
    .job-content {
        @apply space-y-0;
    }
    
    .job-title {
        @apply text-xs leading-tight;
    }
    
    .job-customer {
        @apply hidden;
    }
    
    .job-status-indicator {
        @apply hidden;
    }
}

/* ===== ACCESSIBILITY ===== */
.day-cell:focus,
.job-chip:focus {
    @apply outline-none ring-2 ring-red-500 ring-offset-2;
}

.day-cell:focus-within {
    @apply ring-2 ring-red-500 ring-offset-2;
}

/* ===== PRINT STYLES ===== */
@media print {
    .day-cell {
        @apply border border-gray-300 bg-white;
        @apply min-h-[100px] p-2;
    }
    
    .day-cell.today {
        @apply bg-red-50 border-red-300;
    }
    
    .quick-add-btn {
        @apply hidden;
    }
    
    .day-summary {
        @apply hidden;
    }
    
    .job-chip {
        @apply border border-gray-300 shadow-none;
        @apply transform-none;
        @apply break-inside-avoid;
    }
    
    .job-chip:hover {
        @apply transform-none shadow-none;
    }
}

/* ===== HIGH CONTRAST MODE ===== */
@media (prefers-contrast: high) {
    .day-cell {
        @apply border-2;
    }
    
    .job-chip {
        @apply border-2;
    }
    
    .status-pill {
        @apply border border-current;
    }
}

/* ===== REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
    .job-chip,
    .day-cell,
    .fc-event {
        @apply transition-none animate-none;
    }
    
    .job-chip:hover {
        @apply transform-none;
    }
}

/* ===== EVENT DETAILS DIALOG ===== */
.event-details-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    animation: fadeIn 0.2s ease-out;
}

.event-details-dialog {
    background: white;
    border-radius: 8px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    max-width: 600px;
    width: 100%;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
    animation: slideIn 0.3s ease-out;
}

.event-details-header {
    @apply flex justify-between items-center p-6 border-b border-gray-200;
}

.event-details-header .event-title {
    @apply text-xl font-semibold text-gray-900 m-0;
}

.event-details-header .close-btn {
    @apply text-gray-400 hover:text-gray-600 text-2xl font-bold;
    @apply bg-transparent border-none cursor-pointer p-0;
    @apply w-8 h-8 flex items-center justify-center;
    @apply rounded-full hover:bg-gray-100 transition-colors duration-200;
}

.event-details-body {
    @apply p-6;
}

.status-section {
    @apply flex flex-wrap gap-2 mb-6;
}

.status-badge {
    @apply px-3 py-1 text-sm font-medium rounded-full;
}

.status-badge.overdue {
    @apply bg-fuchsia-100 text-fuchsia-800;
}

.status-badge.returned {
    @apply bg-blue-100 text-blue-800;
}

.status-badge.picked-up {
    @apply bg-green-100 text-green-800;
}

.status-badge.pending {
    @apply bg-amber-100 text-amber-800;
}

.status-badge.completed {
    @apply bg-green-100 text-green-800;
}

.status-badge.scheduled {
    @apply bg-blue-100 text-blue-800;
}

.status-badge.active {
    @apply bg-yellow-100 text-yellow-800;
}

.license-badge {
    @apply px-3 py-1 text-sm font-medium rounded-full;
}

.license-badge.license-scanned {
    @apply bg-green-100 text-green-800;
}

.license-badge.license-not-scanned {
    @apply bg-red-100 text-red-800;
}

.details-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6;
}

.detail-group {
    @apply space-y-3;
}

.detail-group h4 {
    @apply text-lg font-medium text-gray-900 mb-3;
    @apply border-b border-gray-200 pb-2;
}

.detail-item {
    @apply flex justify-between items-start;
}

.detail-item.full-width {
    @apply flex-col;
}

.detail-item .label {
    @apply text-sm font-medium text-gray-600 min-w-0 flex-shrink-0;
    @apply mr-3;
}

.detail-item .value {
    @apply text-sm text-gray-900 text-right;
    @apply break-words;
}

.detail-item.full-width .value {
    @apply text-left mt-1;
}

.event-details-footer {
    @apply flex justify-end gap-3 p-6 border-t border-gray-200;
    @apply bg-gray-50 rounded-b-lg;
}

.event-details-footer .btn {
    @apply px-4 py-2 text-sm font-medium rounded-md;
    @apply transition-colors duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
}

.event-details-footer .btn-secondary {
    @apply bg-white text-gray-700 border border-gray-300;
    @apply hover:bg-gray-50 focus:ring-gray-500;
}

.event-details-footer .btn-primary {
    @apply bg-red-600 text-white border border-red-600;
    @apply hover:bg-red-700 focus:ring-red-500;
}

/* Dialog animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Responsive design for dialog */
@media (max-width: 768px) {
    .event-details-backdrop {
        @apply p-4;
    }
    
    .event-details-dialog {
        @apply max-w-full;
    }
    
    .event-details-header {
        @apply p-4;
    }
    
    .event-details-body {
        @apply p-4;
    }
    
    .event-details-footer {
        @apply p-4;
    }
    
    .details-grid {
        @apply grid-cols-1 gap-4;
    }
    
    .detail-item {
        @apply flex-col items-start;
    }
    
    .detail-item .label {
        @apply mr-0 mb-1;
    }
    
    .detail-item .value {
        @apply text-left;
    }
}

@media (max-width: 640px) {
    .event-details-backdrop {
        @apply p-2;
    }
    
    .event-details-header {
        @apply p-3;
    }
    
    .event-details-body {
        @apply p-3;
    }
    
    .event-details-footer {
        @apply p-3 flex-col;
    }
    
    .event-details-footer .btn {
        @apply w-full;
    }
}